<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Pages/ProfilePage.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Pages/ProfilePage.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useState, useEffect } from "react";

import Header from "../Components/Header";
import Dashboard from "../Components/Dashboard";
import getUserData from "../Service/getUserData.js";

import "../styles/ProfilePage.css";

/**
 * ProfilePage Component return HTML
 * @module ProfilePage
 */

const ProfilePage = () => {
  const [data, setData] = useState({});
  const [isLoaded, setIsLoaded] = useState(false);
  const [userId, setUserId] = useState(0);

  useEffect(() => {
    if (userId !== 0) {
      const promises = [];

      promises.push(getUserData(userId));
      promises.push(getUserData(userId, "activity"));
      promises.push(getUserData(userId, "performance"));
      promises.push(getUserData(userId, "average-sessions"));

      Promise.all(promises)
        .then((promisesArray) => {
          const newData = {
            USER_MAIN_DATA: promisesArray[0],
            USER_ACTIVITY: promisesArray[1],
            USER_PERFORMANCE: promisesArray[2],
            USER_AVERAGE_SESSIONS: promisesArray[3],
          };

          setData(newData);
        })
        .then(() => {
          setIsLoaded(true);
        });
    }
  }, [userId]);

  if (isLoaded) {
    return (
      &lt;div className="ProfilePage">
        &lt;main className="ProfilePage__main">
          &lt;div className="ProfilePage__content">
            &lt;Header userName={data.USER_MAIN_DATA.userInfos.firstName} />
            &lt;Dashboard
              USER_ACTIVITY={data.USER_ACTIVITY}
              USER_PERFORMANCE={data.USER_PERFORMANCE}
              USER_MAIN_DATA={data.USER_MAIN_DATA}
              USER_AVERAGE_SESSIONS={data.USER_AVERAGE_SESSIONS}
            />
          &lt;/div>
        &lt;/main>
      &lt;/div>
    );
  } else {
    return (
      &lt;ul
        style={{
          height: "50vh",
          display: "flex",
          justifyContent: "space-around",
          alignItems: "center",
        }}
      >
        &lt;li className="getToUserProfile" onClick={() => setUserId(12)}>
          User 12
        &lt;/li>
        &lt;li className="getToUserProfile" onClick={() => setUserId(18)}>
          User 18
        &lt;/li>
      &lt;/ul>
    );
  }
};

export default ProfilePage;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AverageSessionTimeChart.html">AverageSessionTimeChart</a></li><li><a href="module-BarChartShape.html">BarChartShape</a></li><li><a href="module-CharacteristicsChart.html">CharacteristicsChart</a></li><li><a href="module-DailyActivity.html">DailyActivity</a></li><li><a href="module-Dashboard.html">Dashboard</a></li><li><a href="module-getUserData.html">getUserData</a></li><li><a href="module-Header.html">Header</a></li><li><a href="module-NutrimentsList.html">NutrimentsList</a></li><li><a href="module-ProfilePage.html">ProfilePage</a></li><li><a href="module-ProgressBar.html">ProgressBar</a></li><li><a href="module-TopNav.html">TopNav</a></li><li><a href="module-VerticalLayout.html">VerticalLayout</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sun Dec 05 2021 10:06:09 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
