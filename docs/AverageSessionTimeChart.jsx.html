<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: AverageSessionTimeChart.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: AverageSessionTimeChart.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import "../styles/AverageSessionTimeChart.css";
import PropTypes from "prop-types";

import { LineChart, Line, Tooltip, ResponsiveContainer } from "recharts";

/**
 * User average session time chart
 * @module AverageSessionTimeChart
 *
 * @param {object} USER_AVERAGE_SESSIONS - user sessions object, it gives the userId and the sessions array
 * @property {number} USER_AVERAGE_SESSIONS.userId
 * @property {Array.&lt;{day: number, sessionLength: number}>} USER_AVERAGE_SESSIONS.sessions - array of the last 7 sessions. A session is an object storing the day and the session length
 */

const AverageSessionTimeChart = ({ USER_AVERAGE_SESSIONS }) => {
  const labels = ["L", "M", "M", "J", "V", "S", "D"];
  /**
   * Create a custom tooltip element for the average session time chart, for more information check Recharts doc {@link https://recharts.org/en-US/examples/CustomContentOfTooltip}
   * @function CustomTooltip
   *
   */
  const CustomTooltip = (props) => {
    const { payload, active } = props;
    if (active) {
      document.querySelector(
        ".AverageSession__mask"
      ).style.width = `calc(100% - ${props.coordinate.x}px)`;
      return (
        &lt;div className="AverageSession__CustomTooltip">
          &lt;p className="AverageSession__CustomTooltip-item">
            {payload[0].payload.sessionLength} min
          &lt;/p>
        &lt;/div>
      );
    }
    document.querySelector(".AverageSession__mask").style.width = `0px`;
    return null;
  };

  //render
  return (
    &lt;div className="AverageSession">
      &lt;div className="AverageSession__mask">&lt;/div>
      &lt;h3 className="AverageSession__title">Durée moyenne des sessions&lt;/h3>
      &lt;ul className="AverageSession__labels">
        {labels.map((item, index) => (
          &lt;li key={index} className="AverageSession__label">
            {item}
          &lt;/li>
        ))}
      &lt;/ul>
      &lt;ResponsiveContainer width="100%" height="100%">
        &lt;LineChart
          width={300}
          height={100}
          data={USER_AVERAGE_SESSIONS.sessions}
          margin={{ top: 100, bottom: 50 }}
        >
          &lt;Tooltip cursor={false} content={(data) => CustomTooltip(data)} />
          &lt;defs>
            &lt;linearGradient id="myGradient">
              &lt;stop offset="0%" stopColor="rgba(255, 255, 255, 0.106534)" />
              &lt;stop offset="100%" stopColor="white" />
            &lt;/linearGradient>
          &lt;/defs>
          &lt;Line
            type="monotone"
            dataKey="sessionLength"
            stroke="url(#myGradient)"
            strokeWidth={2}
            dot={false}
            activeDot={{
              r: 4,
              fill: "white",
              strokeWidth: 10,
              stroke: "rgba(255,255,255,0.198345)",
            }}
          />
        &lt;/LineChart>
      &lt;/ResponsiveContainer>
    &lt;/div>
  );
};

AverageSessionTimeChart.propTypes = {
  userId: PropTypes.number,
  sessions: PropTypes.arrayOf(
    PropTypes.shape({
      day: PropTypes.number,
      sessionLength: PropTypes.number,
    })
  ),
};

export default AverageSessionTimeChart;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-AverageSessionTimeChart.html">AverageSessionTimeChart</a></li><li><a href="module-BarChartShape.html">BarChartShape</a></li><li><a href="module-CharacteristicsChart.html">CharacteristicsChart</a></li><li><a href="module-DailyActivity.html">DailyActivity</a></li><li><a href="module-Dashboard.html">Dashboard</a></li><li><a href="module-Header.html">Header</a></li><li><a href="module-NutrimentsList.html">NutrimentsList</a></li><li><a href="module-ProgressBar.html">ProgressBar</a></li><li><a href="module-TopNav.html">TopNav</a></li><li><a href="module-VerticalLayout.html">VerticalLayout</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Sat Dec 04 2021 14:53:04 GMT+0100 (heure normale d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
